"use strict";(self.webpackChunkapm=self.webpackChunkapm||[]).push([[537],{537:(fr,vt,l)=>{l.r(vt),l.d(vt,{ProductModule:()=>hr});var Fe=l(3563),r=l(5e3),d=l(9808),yt=(l(2076),l(8306));l(4742),l(8421),l(7669),l(5403),l(3268),l(1810);var g=l(4004);let Ct=(()=>{class n{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.Qsj),r.Y36(r.SBq))},n.\u0275dir=r.lG2({type:n}),n})(),V=(()=>{class n extends Ct{}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,features:[r.qOj]}),n})();const f=new r.OlP("NgValueAccessor");let ae=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({}),n})();const at=new r.OlP("NgModelWithFormControlWarning"),An={provide:f,useExisting:(0,r.Gpc)(()=>dt),multi:!0};function pe(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let dt=(()=>{class n extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=pe(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Mn(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&r.NdJ("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([An]),r.qOj]}),n})(),fe=(()=>{class n{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(pe(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(dt,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const bn={provide:f,useExisting:(0,r.Gpc)(()=>ht),multi:!0};function ge(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ht=(()=>{class n extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const i=t.map(s=>this._getOptionId(s));o=(s,a)=>{s._setSelected(i.indexOf(a.toString())>-1)}}else o=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const i=[],s=o.selectedOptions;if(void 0!==s){const a=s;for(let u=0;u<a.length;u++){const C=this._getOptionValue(a[u].value);i.push(C)}}else{const a=o.options;for(let u=0;u<a.length;u++){const c=a[u];if(c.selected){const C=this._getOptionValue(c.value);i.push(C)}}}this.value=i,t(i)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function Dn(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return n.\u0275fac=function(){let e;return function(o){return(e||(e=r.n5z(n)))(o||n)}}(),n.\u0275dir=r.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&r.NdJ("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([bn]),r.qOj]}),n})(),me=(()=>{class n{constructor(t,o,i){this._element=t,this._renderer=o,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ge(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ge(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ht,9))},n.\u0275dir=r.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Pn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[ae]]}),n})(),In=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:at,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[Pn]}),n})();var Ee=l(1135),b=l(9841),y=l(262),w=l(515),D=l(8505),k=l(7579);const Oe={now:()=>(Oe.delegate||Date).now(),delegate:void 0};class Bn extends k.x{constructor(e=1/0,t=1/0,o=Oe){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:o,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:a}=this;t||(o.push(e),!i&&o.push(s.now()+a)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:o,_buffer:i}=this,s=i.slice();for(let a=0;a<s.length&&!e.closed;a+=o?1:2)e.next(s[a]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<o.length&&o.splice(0,o.length-s),!i){const a=t.now();let u=0;for(let c=1;c<o.length&&o[c]<=a;c+=2)u=c;u&&o.splice(0,u+1)}}}var Un=l(3099);function Z(n,e,t){var o,i;let s,a=!1;return n&&"object"==typeof n?(s=null!==(o=n.bufferSize)&&void 0!==o?o:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,a=!!n.refCount,t=n.scheduler):s=null!=n?n:1/0,(0,Un.B)({connector:()=>new Bn(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}var $n=l(6451),kn=l(5026),Zn=l(576);function ft(n,e){const t=(0,Zn.m)(n)?n:()=>n,o=i=>i.error(t());return new yt.y(e?i=>e.schedule(o,0,i):o)}var gt=l(520);let Se=(()=>{class n{constructor(t){this.http=t,this.productCategoriesUrl="api/productCategories",this.productCategories$=this.http.get(this.productCategoriesUrl).pipe((0,D.b)(o=>console.log("categories",JSON.stringify(o))),Z(1),(0,y.K)(this.handleError))}handleError(t){let o;return o=t.error instanceof ErrorEvent?`An error occurred: ${t.error.message}`:`Backend returned code ${t.status}: ${t.message}`,console.error(t),ft(()=>o)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(gt.eN))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var j=l(9646),jn=l(4351),qn=l(5577),Rn=l(3900);let Ln=(()=>{class n{constructor(t){this.http=t,this.suppliersUrl="api/suppliers",this.suppliersWithMap$=(0,j.of)(1,5,8).pipe((0,g.U)(o=>this.http.get(`${this.suppliersUrl}/${o}`))),this.suppliersWithConcatMap$=(0,j.of)(1,5,8).pipe((0,D.b)(o=>console.log("concatMap source Observable",o)),(0,jn.b)(o=>this.http.get(`${this.suppliersUrl}/${o}`))),this.suppliersWithMergeMap$=(0,j.of)(1,5,8).pipe((0,D.b)(o=>console.log("mergeMap source Observable",o)),(0,qn.z)(o=>this.http.get(`${this.suppliersUrl}/${o}`))),this.suppliersWithSwitchMap$=(0,j.of)(1,5,8).pipe((0,D.b)(o=>console.log("switchMap source Observable",o)),(0,Rn.w)(o=>this.http.get(`${this.suppliersUrl}/${o}`))),this.suppliers$=this.http.get(this.suppliersUrl).pipe((0,D.b)(o=>console.log("suppliers",JSON.stringify(o))),Z(1),(0,y.K)(this.handleError))}handleError(t){let o;return o=t.error instanceof ErrorEvent?`An error occurred: ${t.error.message}`:`Backend returned code ${t.status}: ${t.message}`,console.error(t),ft(()=>o)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(gt.eN))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mt=(()=>{class n{constructor(t,o,i){this.http=t,this.productCategoryService=o,this.supplierService=i,this.productsUrl="api/products",this.suppliersUrl="api/suppliers",this.products$=this.http.get(this.productsUrl).pipe((0,D.b)(s=>console.log("Products: ",JSON.stringify(s))),(0,y.K)(this.handleError)),this.productWithCategory$=(0,b.a)([this.products$,this.productCategoryService.productCategories$]).pipe((0,g.U)(([s,a])=>s.map(u=>{var c;return Object.assign(Object.assign({},u),{price:u.price?1.5*u.price:0,category:null===(c=a.find(C=>u.categoryId===C.id))||void 0===c?void 0:c.name,searchKey:[u.productName]})})),Z(1)),this.productSelectedSubject=new Ee.X(0),this.productSelectedAction$=this.productSelectedSubject.asObservable(),this.selectedProduct$=(0,b.a)([this.productWithCategory$,this.productSelectedAction$]).pipe((0,g.U)(([s,a])=>s.find(u=>u.id===a)),Z(1)),this.selectedProductSupplier$=(0,b.a)([this.selectedProduct$,this.supplierService.suppliers$]).pipe((0,g.U)(([s,a])=>a.filter(u=>{var c;return null===(c=null==s?void 0:s.supplierIds)||void 0===c?void 0:c.includes(u.id)}))),this.productInsertedSubject=new k.x,this.productInsertedAction$=this.productInsertedSubject.asObservable(),this.productsWithAdd$=(0,$n.T)(this.productWithCategory$,this.productInsertedAction$).pipe((0,kn.R)((s,a)=>a instanceof Array?[...a]:[...s,a],[]))}selectedProductChanged(t){this.productSelectedSubject.next(t)}addProduct(t){t=t||this.fakeProduct(),this.productInsertedSubject.next(t)}fakeProduct(){return{id:42,productName:"Another One",productCode:"TBX-0042",description:"Our new product",price:8.9,categoryId:3,quantityInStock:30}}handleError(t){let o;return o=t.error instanceof ErrorEvent?`An error occurred: ${t.error.message}`:`Backend returned code ${t.status}: ${t.message}`,console.error(t),ft(()=>o)}}return n.\u0275fac=function(t){return new(t||n)(r.LFG(gt.eN),r.LFG(Se),r.LFG(Ln))},n.\u0275prov=r.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hn(n,e){if(1&n&&(r.TgZ(0,"option",14),r._uU(1),r.qZA()),2&n){const t=e.$implicit;r.Q6J("value",t.id),r.xp6(1),r.Oqu(t.name)}}function Yn(n,e){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.ALo(9,"currency"),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA()()),2&n){const t=e.$implicit;r.xp6(2),r.Oqu(t.productName),r.xp6(2),r.Oqu(t.productCode),r.xp6(2),r.Oqu(t.category),r.xp6(2),r.Oqu(r.gM2(9,5,t.price,"USD","symbol","1.2-2")),r.xp6(3),r.Oqu(t.quantityInStock)}}function Wn(n,e){if(1&n&&(r.TgZ(0,"table",15)(1,"thead")(2,"tr")(3,"th"),r._uU(4,"Product"),r.qZA(),r.TgZ(5,"th"),r._uU(6,"Code"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Category"),r.qZA(),r.TgZ(9,"th"),r._uU(10,"Price"),r.qZA(),r.TgZ(11,"th"),r._uU(12,"In Stock"),r.qZA()()(),r.TgZ(13,"tbody"),r.YNc(14,Yn,12,10,"tr",16),r.qZA()()),2&n){const t=e.ngIf;r.xp6(14),r.Q6J("ngForOf",t)}}function zn(n,e){if(1&n&&(r.TgZ(0,"div",17),r._uU(1),r.qZA()),2&n){const t=r.oxw();r.xp6(1),r.hij(" ",t.errorMessage,"\n")}}let Jn=(()=>{class n{constructor(t,o){this.productService=t,this.productCategoryService=o,this.pageTitle="Product List",this.errorMessage="",this.categorySelectedSubject=new Ee.X(0),this.categorySelectedAction$=this.categorySelectedSubject.asObservable(),this.products$=(0,b.a)([this.productService.productsWithAdd$,this.categorySelectedAction$]).pipe((0,g.U)(([i,s])=>i.filter(a=>!s||a.categoryId===s)),(0,y.K)(i=>(this.errorMessage=i,w.E))),this.categories$=this.productCategoryService.productCategories$.pipe((0,y.K)(i=>(this.errorMessage=i,w.E)))}onAdd(){this.productService.addProduct()}onSelected(t){this.categorySelectedSubject.next(+t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mt),r.Y36(Se))},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:19,vars:8,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"container"],[1,"row","justify-content-between"],[1,"col-3"],[1,"form-control",3,"change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"table-responsive"],["class","table mb-0",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[3,"value"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"]],template:function(t,o){1&t&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2),r.qZA(),r.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"select",6),r.NdJ("change",function(s){return o.onSelected(s.target.value)}),r.TgZ(8,"option",7),r._uU(9,"- Display All -"),r.qZA(),r.YNc(10,Hn,2,2,"option",8),r.ALo(11,"async"),r.qZA()(),r.TgZ(12,"div",9)(13,"button",10),r.NdJ("click",function(){return o.onAdd()}),r._uU(14,"Add Product"),r.qZA()()()(),r.TgZ(15,"div",11),r.YNc(16,Wn,15,1,"table",12),r.ALo(17,"async"),r.qZA()()(),r.YNc(18,zn,2,1,"div",13)),2&t&&(r.xp6(2),r.hij(" ",o.pageTitle," "),r.xp6(8),r.Q6J("ngForOf",r.lcZ(11,4,o.categories$)),r.xp6(6),r.Q6J("ngIf",r.lcZ(17,6,o.products$)),r.xp6(2),r.Q6J("ngIf",o.errorMessage))},directives:[fe,me,d.sg,d.O5],pipes:[d.Ov,d.H9],styles:["thead[_ngcontent-%COMP%]{color:#337ab7}"],changeDetection:0}),n})();const Qn=function(n){return{active:n}};function Kn(n,e){if(1&n){const t=r.EpF();r.TgZ(0,"button",7),r.NdJ("click",function(){const s=r.CHM(t).$implicit;return r.oxw(2).onSelected(s.id)}),r._uU(1),r.qZA()}if(2&n){const t=e.$implicit,o=r.oxw().ngIf;r.Q6J("ngClass",r.VKq(3,Qn,(null==t?null:t.id)===o.productId)),r.xp6(1),r.AsE(" ",t.productName," (",t.category,") ")}}function Xn(n,e){if(1&n&&(r.TgZ(0,"div",4)(1,"div",5),r.YNc(2,Kn,2,5,"button",6),r.qZA()()),2&n){const t=e.ngIf;r.xp6(2),r.Q6J("ngForOf",t.products)}}function tr(n,e){if(1&n&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&n){const t=e.ngIf;r.xp6(1),r.hij(" ",t,"\n")}}let er=(()=>{class n{constructor(t){this.productService=t,this.pageTitle="Products",this.errorMessageSubject=new k.x,this.errorMessage$=this.errorMessageSubject.asObservable(),this.products$=this.productService.productWithCategory$.pipe((0,y.K)(o=>(this.errorMessageSubject.next(o),w.E))),this.selectedProduct$=this.productService.selectedProduct$,this.vm$=(0,b.a)([this.products$,this.selectedProduct$]).pipe((0,g.U)(([o,i])=>({products:o,productId:i?i.id:0})))}onSelected(t){this.productService.selectedProductChanged(t)}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mt))},n.\u0275cmp=r.Xpm({type:n,selectors:[["pm-product-list"]],decls:7,vars:7,consts:[[1,"card"],[1,"card-header"],["class","card-body",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card-body"],[1,"list-group"],["type","button","class","list-group-item",3,"ngClass","click",4,"ngFor","ngForOf"],["type","button",1,"list-group-item",3,"ngClass","click"],[1,"alert","alert-danger"]],template:function(t,o){1&t&&(r.TgZ(0,"div",0)(1,"div",1),r._uU(2),r.qZA(),r.YNc(3,Xn,3,1,"div",2),r.ALo(4,"async"),r.qZA(),r.YNc(5,tr,2,1,"div",3),r.ALo(6,"async")),2&t&&(r.xp6(2),r.hij(" ",o.pageTitle," "),r.xp6(1),r.Q6J("ngIf",r.lcZ(4,3,o.vm$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(6,5,o.errorMessage$)))},directives:[d.O5,d.sg,d.mk],pipes:[d.Ov],encapsulation:2,changeDetection:0}),n})();var nr=l(9300);function rr(n,e){if(1&n&&(r.TgZ(0,"tr")(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.ALo(5,"currency"),r.qZA(),r.TgZ(6,"td"),r._uU(7),r.qZA()()),2&n){const t=e.$implicit;r.xp6(2),r.Oqu(t.name),r.xp6(2),r.Oqu(r.gM2(5,3,t.cost,"USD","symbol","1.2-2")),r.xp6(3),r.Oqu(t.minQuantity)}}function or(n,e){if(1&n&&(r.TgZ(0,"table",12)(1,"thead")(2,"tr")(3,"th"),r._uU(4,"Supplier"),r.qZA(),r.TgZ(5,"th"),r._uU(6,"Cost"),r.qZA(),r.TgZ(7,"th"),r._uU(8,"Minimum Quantity"),r.qZA()()(),r.TgZ(9,"tbody"),r.YNc(10,rr,8,8,"tr",13),r.qZA()()),2&n){const t=r.oxw(2).ngIf;r.xp6(10),r.Q6J("ngForOf",t.productSuppliers)}}function ir(n,e){if(1&n&&(r.TgZ(0,"div",6)(1,"div",7)(2,"div",8),r._uU(3,"Name:"),r.qZA(),r.TgZ(4,"div",9),r._uU(5),r.qZA()(),r.TgZ(6,"div",7)(7,"div",8),r._uU(8,"Code:"),r.qZA(),r.TgZ(9,"div",9),r._uU(10),r.qZA()(),r.TgZ(11,"div",7)(12,"div",8),r._uU(13,"Category:"),r.qZA(),r.TgZ(14,"div",9),r._uU(15),r.qZA()(),r.TgZ(16,"div",7)(17,"div",8),r._uU(18,"Description:"),r.qZA(),r.TgZ(19,"div",9),r._uU(20),r.qZA()(),r.TgZ(21,"div",7)(22,"div",8),r._uU(23,"Price:"),r.qZA(),r.TgZ(24,"div",9),r._uU(25),r.ALo(26,"currency"),r.qZA()(),r.TgZ(27,"div",7)(28,"div",8),r._uU(29,"In Stock:"),r.qZA(),r.TgZ(30,"div",9),r._uU(31),r.qZA()(),r.TgZ(32,"div",10),r.YNc(33,or,11,1,"table",11),r.qZA()()),2&n){const t=r.oxw().ngIf,o=r.MAs(5);r.xp6(5),r.Oqu(t.product.productName),r.xp6(5),r.Oqu(t.product.productCode),r.xp6(5),r.Oqu(t.product.categoryId),r.xp6(5),r.Oqu(t.product.description),r.xp6(5),r.Oqu(r.Dn7(26,8,t.product.price,"USD","symbol")),r.xp6(6),r.Oqu(t.product.quantityInStock),r.xp6(2),r.Q6J("ngIf",t.productSuppliers.length)("ngIfElse",o)}}function sr(n,e){1&n&&(r.TgZ(0,"div",14),r._uU(1," No suppliers for product "),r.qZA())}function ar(n,e){if(1&n&&(r.TgZ(0,"div",2)(1,"div",3),r._uU(2),r.qZA(),r.YNc(3,ir,34,12,"div",4),r.YNc(4,sr,2,0,"ng-template",null,5,r.W1O),r.qZA()),2&n){const t=e.ngIf;r.xp6(2),r.hij(" ",t.pageTitle," "),r.xp6(1),r.Q6J("ngIf",t.product)}}function lr(n,e){if(1&n&&(r.TgZ(0,"div",15),r._uU(1),r.qZA()),2&n){const t=e.ngIf;r.xp6(1),r.hij(" ",t,"\n")}}let ur=(()=>{class n{constructor(t){this.productService=t,this.errorMessageSubject=new k.x,this.errorMessage$=this.errorMessageSubject.asObservable(),this.product$=this.productService.selectedProduct$.pipe((0,y.K)(o=>(this.errorMessage$=o,w.E))),this.pageTitle$=this.product$.pipe((0,g.U)(o=>o?`Product Detail for:  ${o.productName}`:null)),this.productSuppliers$=this.productService.selectedProductSupplier$.pipe((0,y.K)(o=>(this.errorMessage$=o,w.E))),this.vm$=(0,b.a)([this.product$,this.productSuppliers$,this.pageTitle$]).pipe((0,nr.h)(([o])=>Boolean(o)),(0,g.U)(([o,i,s])=>({product:o,productSuppliers:i,pageTitle:s})))}}return n.\u0275fac=function(t){return new(t||n)(r.Y36(mt))},n.\u0275cmp=r.Xpm({type:n,selectors:[["pm-product-detail"]],decls:4,vars:6,consts:[["class","card",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"card"],[1,"card-header"],["class","card-body",4,"ngIf"],["noSuppliers",""],[1,"card-body"],[1,"row"],[1,"col-md-2"],[1,"col-md-6"],[1,"table-responsive"],["class","table mb-0",4,"ngIf","ngIfElse"],[1,"table","mb-0"],[4,"ngFor","ngForOf"],[1,"alert","alert-warning"],[1,"alert","alert-danger"]],template:function(t,o){1&t&&(r.YNc(0,ar,6,2,"div",0),r.ALo(1,"async"),r.YNc(2,lr,2,1,"div",1),r.ALo(3,"async")),2&t&&(r.Q6J("ngIf",r.lcZ(1,2,o.vm$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(3,4,o.errorMessage$)))},directives:[d.O5,d.sg],pipes:[d.Ov,d.H9],encapsulation:2,changeDetection:0}),n})(),cr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=r.Xpm({type:n,selectors:[["ng-component"]],decls:5,vars:0,consts:[[1,"row"],[1,"col-md-4"],[1,"col-md-8"]],template:function(t,o){1&t&&(r.TgZ(0,"div",0)(1,"div",1),r._UZ(2,"pm-product-list"),r.qZA(),r.TgZ(3,"div",2),r._UZ(4,"pm-product-detail"),r.qZA()())},directives:[er,ur],encapsulation:2}),n})(),dr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[d.ez],d.ez]}),n})(),hr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=r.oAB({type:n}),n.\u0275inj=r.cJS({imports:[[dr,In,Fe.Bz.forChild([{path:"",component:Jn},{path:"alternate",component:cr}])]]}),n})()}}]);